<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logtk__InnerTerm (logtk.Logtk__InnerTerm)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">logtk</a> &#x00BB; Logtk__InnerTerm</nav><h1>Module <code>Logtk__InnerTerm</code></h1><h2 id="inner-terms"><a href="#inner-terms" class="anchor"></a>Inner Terms</h2><nav class="toc"><ul><li><a href="#constructors">Constructors</a></li><li><a href="#payload">Payload</a></li><li><a href="#containers">Containers</a></li><li><a href="#de-bruijn-indices-handling">De Bruijn indices handling</a></li><li><a href="#iterators">Iterators</a></li><li><a href="#positions">Positions</a></li><li><a href="#variables">Variables</a></li><li><a href="#misc">Misc</a></li><li><a href="#io">IO</a></li></ul></nav></header><aside><p>Those terms are not designed to be used directly, but rather to provide a generic backend (implementing De Bruijn indices, subterms, substitutions, etc.) for other more specific representations like <span class="xref-unresolved" title="unresolved reference to &quot;Type.t&quot;"><code>Type</code>.t</span> and <span class="xref-unresolved" title="unresolved reference to &quot;Term.t&quot;"><code>Term</code>.t</span>.</p><p>The point is that we only have to do substitution, hashconsing, and De Bruijn indices manipulation in one place; it also makes it easy to make terms and types occur in one another (types as parameters to terms, etc.)</p><p>NOTE: this should be used with a lot of caution. Few checks are performed (even typing checks) and it is easy to obtain non-closed terms or ill-typed terms by manipulating this carelessly.</p></aside><div class="spec module" id="module-I"><a href="#module-I" class="anchor"></a><code><span class="keyword">module</span> I = Stdlib.Int32</code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-t.term" class="anchored"><td class="def field"><a href="#type-t.term" class="anchor"></a><code>term : <a href="index.html#type-view">view</a>;</code></td></tr><tr id="type-t.ty" class="anchored"><td class="def field"><a href="#type-t.ty" class="anchor"></a><code>ty : <a href="index.html#type-type_result">type_result</a>;</code></td></tr><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code><span class="keyword">mutable</span> id : int;</code></td></tr><tr id="type-t.payload" class="anchored"><td class="def field"><a href="#type-t.payload" class="anchor"></a><code><span class="keyword">mutable</span> payload : exn;</code></td></tr><tr id="type-t.props" class="anchored"><td class="def field"><a href="#type-t.props" class="anchor"></a><code>props : <a href="index.html#module-I">I</a>.t;</code></td></tr><tr id="type-t.ho_weight" class="anchored"><td class="def field"><a href="#type-t.ho_weight" class="anchor"></a><code>ho_weight : <span>int lazy_t</span>;</code></td></tr></table><code>}</code></dt><dd><p>Abstract type of term</p></dd></dl><dl><dt class="spec type" id="type-view"><a href="#type-view" class="anchor"></a><code><span class="keyword">and</span> view</code><code> = <span class="keyword">private</span> </code><table class="variant"><tr id="type-view.Var" class="anchored"><td class="def constructor"><a href="#type-view.Var" class="anchor"></a><code>| </code><code><span class="constructor">Var</span> <span class="keyword">of</span> <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span></code></td><td class="doc"><p>Free variable</p></td></tr><tr id="type-view.DB" class="anchored"><td class="def constructor"><a href="#type-view.DB" class="anchor"></a><code>| </code><code><span class="constructor">DB</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-view.Bind" class="anchored"><td class="def constructor"><a href="#type-view.Bind" class="anchor"></a><code>| </code><code><span class="constructor">Bind</span> <span class="keyword">of</span> <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> * <a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a></code></td><td class="doc"><p>Type, sub-term</p></td></tr><tr id="type-view.Const" class="anchored"><td class="def constructor"><a href="#type-view.Const" class="anchor"></a><code>| </code><code><span class="constructor">Const</span> <span class="keyword">of</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></td><td class="doc"><p>Constant</p></td></tr><tr id="type-view.App" class="anchored"><td class="def constructor"><a href="#type-view.App" class="anchor"></a><code>| </code><code><span class="constructor">App</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a> * <span><a href="index.html#type-t">t</a> list</span></code></td><td class="doc"><p>Uncurried application</p></td></tr><tr id="type-view.AppBuiltin" class="anchored"><td class="def constructor"><a href="#type-view.AppBuiltin" class="anchor"></a><code>| </code><code><span class="constructor">AppBuiltin</span> <span class="keyword">of</span> <a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a> * <span><a href="index.html#type-t">t</a> list</span></code></td><td class="doc"><p>For representing special constructors</p></td></tr></table></dt><dt class="spec type" id="type-type_result"><a href="#type-type_result" class="anchor"></a><code><span class="keyword">and</span> type_result</code><code> = </code><table class="variant"><tr id="type-type_result.NoType" class="anchored"><td class="def constructor"><a href="#type-type_result.NoType" class="anchor"></a><code>| </code><code><span class="constructor">NoType</span></code></td></tr><tr id="type-type_result.HasType" class="anchored"><td class="def constructor"><a href="#type-type_result.HasType" class="anchor"></a><code>| </code><code><span class="constructor">HasType</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a></code></td></tr></table></dt><dt class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><code><span class="keyword">type</span> term</code><code> = <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-view"><a href="#val-view" class="anchor"></a><code><span class="keyword">val</span> view : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-view">view</a></code></dt><dd><p>View on the term's head form</p></dd></dl><dl><dt class="spec value" id="val-ty"><a href="#val-ty" class="anchor"></a><code><span class="keyword">val</span> ty : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-type_result">type_result</a></code></dt><dd><p>Type of the term, if any</p></dd></dl><dl><dt class="spec value" id="val-ty_exn"><a href="#val-ty_exn" class="anchor"></a><code><span class="keyword">val</span> ty_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Same as <a href="index.html#type-t.ty"><code>ty</code></a>, but fails if the term has no type</p><dl><dt>raises Invalid_argument</dt><dd><p>if the type is <code>NoType</code></p></dd></dl></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Logtk/Interfaces/index.html#module-type-HASH">Logtk.Interfaces.HASH</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Logtk/Interfaces/module-type-HASH/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Logtk/Interfaces/index.html#module-type-EQ">Logtk.Interfaces.EQ</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Logtk/Interfaces/index.html#module-type-ORD">Logtk.Interfaces.ORD</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Logtk/Interfaces/module-type-ORD/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-hash_mod_alpha"><a href="#val-hash_mod_alpha" class="anchor"></a><code><span class="keyword">val</span> hash_mod_alpha : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Hash invariant w.r.t variable renaming</p></dd></dl><dl><dt class="spec value" id="val-same_l"><a href="#val-same_l" class="anchor"></a><code><span class="keyword">val</span> same_l : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Physical equality on lists of terms, roughly the same as <span class="xref-unresolved" title="unresolved reference to &quot;List.forall2 (==)&quot;"><code>List</code>.forall2 (==)</span></p></dd></dl><dl><dt class="spec value" id="val-same_l_gen"><a href="#val-same_l_gen" class="anchor"></a><code><span class="keyword">val</span> same_l_gen : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Physical equality on lists of terms, roughly the same as <span class="xref-unresolved" title="unresolved reference to &quot;List.forall2 (==),\n    tolerates different lengths&quot;"><code>List</code>.forall2 (==),
    tolerates different lengths</span></p></dd></dl><dl><dt class="spec value" id="val-ho_weight"><a href="#val-ho_weight" class="anchor"></a><code><span class="keyword">val</span> ho_weight : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl><section><header><h4 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h4><p>Some constructors, such as <code>record</code>, may raise <a href="index.html#exception-IllFormedTerm"><code>IllFormedTerm</code></a>if the arguments are ill-formed (several occurrences of a key), or, for variables, if the number is negative</p></header><dl><dt class="spec exception" id="exception-IllFormedTerm"><a href="#exception-IllFormedTerm" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">IllFormedTerm</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec type" id="type-nat"><a href="#type-nat" class="anchor"></a><code><span class="keyword">type</span> nat</code><code> = int</code></dt></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val</span> const : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-app"><a href="#val-app" class="anchor"></a><code><span class="keyword">val</span> app : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val</span> bind : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>varty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-var"><a href="#val-var" class="anchor"></a><code><span class="keyword">val</span> var : <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-bvar"><a href="#val-bvar" class="anchor"></a><code><span class="keyword">val</span> bvar : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-nat">nat</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-app_builtin"><a href="#val-app_builtin" class="anchor"></a><code><span class="keyword">val</span> app_builtin : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-builtin"><a href="#val-builtin" class="anchor"></a><code><span class="keyword">val</span> builtin : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/Builtin/index.html#type-t">Logtk.Builtin.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tType"><a href="#val-tType" class="anchor"></a><code><span class="keyword">val</span> tType : <a href="index.html#type-t">t</a></code></dt><dd><p>The root of the type system. It doesn't have a type. It has kind <code>Kind.Type</code></p></dd></dl><dl><dt class="spec value" id="val-arrow"><a href="#val-arrow" class="anchor"></a><code><span class="keyword">val</span> arrow : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Smart constructor for arrow types</p></dd></dl><dl><dt class="spec value" id="val-cast"><a href="#val-cast" class="anchor"></a><code><span class="keyword">val</span> cast : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Change the type</p></dd></dl><dl><dt class="spec value" id="val-is_var"><a href="#val-is_var" class="anchor"></a><code><span class="keyword">val</span> is_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_bvar"><a href="#val-is_bvar" class="anchor"></a><code><span class="keyword">val</span> is_bvar : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_const"><a href="#val-is_const" class="anchor"></a><code><span class="keyword">val</span> is_const : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_bind"><a href="#val-is_bind" class="anchor"></a><code><span class="keyword">val</span> is_bind : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_app"><a href="#val-is_app" class="anchor"></a><code><span class="keyword">val</span> is_app : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_tType"><a href="#val-is_tType" class="anchor"></a><code><span class="keyword">val</span> is_tType : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_lambda"><a href="#val-is_lambda" class="anchor"></a><code><span class="keyword">val</span> is_lambda : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hashcons_stats"><a href="#val-hashcons_stats" class="anchor"></a><code><span class="keyword">val</span> hashcons_stats : unit <span>&#45;&gt;</span> int * int * int * int * int * int</code></dt><dt class="spec value" id="val-is_beta_reducible"><a href="#val-is_beta_reducible" class="anchor"></a><code><span class="keyword">val</span> is_beta_reducible : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-has_lambda"><a href="#val-has_lambda" class="anchor"></a><code><span class="keyword">val</span> has_lambda : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt></dl></section><section><header><h4 id="payload"><a href="#payload" class="anchor"></a>Payload</h4></header><dl><dt class="spec exception" id="exception-No_payload"><a href="#exception-No_payload" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">No_payload</span></code></dt></dl><dl><dt class="spec value" id="val-payload"><a href="#val-payload" class="anchor"></a><code><span class="keyword">val</span> payload : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> exn</code></dt><dt class="spec value" id="val-set_payload"><a href="#val-set_payload" class="anchor"></a><code><span class="keyword">val</span> set_payload : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> exn <span>&#45;&gt;</span> unit</code></dt><dd><p>Set payload.</p><dl><dt>raises Invalid_argument</dt><dd><p>if there is already a payload</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set_payload_erase"><a href="#val-set_payload_erase" class="anchor"></a><code><span class="keyword">val</span> set_payload_erase : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> exn <span>&#45;&gt;</span> unit</code></dt><dd><p>Set payload, ignoring the previous payload.</p></dd></dl></section><section><header><h4 id="containers"><a href="#containers" class="anchor"></a>Containers</h4></header><div class="spec module" id="module-Map"><a href="#module-Map" class="anchor"></a><code><span class="keyword">module</span> Map : CCMap.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Map">Map</a>.key = <a href="index.html#type-term">term</a></code></div><div class="spec module" id="module-Set"><a href="#module-Set" class="anchor"></a><code><span class="keyword">module</span> Set : CCSet.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Set">Set</a>.elt = <a href="index.html#type-term">term</a></code></div><div class="spec module" id="module-Tbl"><a href="#module-Tbl" class="anchor"></a><code><span class="keyword">module</span> Tbl : CCHashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Tbl">Tbl</a>.key = <a href="index.html#type-term">term</a></code></div><div class="spec module" id="module-VarMap"><a href="#module-VarMap" class="anchor"></a><code><span class="keyword">module</span> VarMap : CCMap.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-VarMap">VarMap</a>.key = <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span></code></div><div class="spec module" id="module-VarSet"><a href="#module-VarSet" class="anchor"></a><code><span class="keyword">module</span> VarSet : CCSet.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-VarSet">VarSet</a>.elt = <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span></code></div><div class="spec module" id="module-VarTbl"><a href="#module-VarTbl" class="anchor"></a><code><span class="keyword">module</span> VarTbl : CCHashtbl.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-VarTbl">VarTbl</a>.key = <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span></code></div></section><section><header><h4 id="de-bruijn-indices-handling"><a href="#de-bruijn-indices-handling" class="anchor"></a>De Bruijn indices handling</h4></header><div class="spec module" id="module-DB"><a href="#module-DB" class="anchor"></a><code><span class="keyword">module</span> <a href="DB/index.html">DB</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h4 id="iterators"><a href="#iterators" class="anchor"></a>Iterators</h4></header><div class="spec module" id="module-Seq"><a href="#module-Seq" class="anchor"></a><code><span class="keyword">module</span> <a href="Seq/index.html">Seq</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h4 id="positions"><a href="#positions" class="anchor"></a>Positions</h4></header><div class="spec module" id="module-Pos"><a href="#module-Pos" class="anchor"></a><code><span class="keyword">module</span> <a href="Pos/index.html">Pos</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>old:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>by:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>replace t ~old ~by</code> syntactically replaces all occurrences of <code>old</code> in <code>t</code> by the term <code>by</code>.</p></dd></dl><dl><dt class="spec value" id="val-replace_m"><a href="#val-replace_m" class="anchor"></a><code><span class="keyword">val</span> replace_m : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="index.html#module-Map">Map</a>.t</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Simultaneous replacement of every <code>a-&gt;b</code> in the map</p></dd></dl></section><section><header><h4 id="variables"><a href="#variables" class="anchor"></a>Variables</h4></header><dl><dt class="spec value" id="val-bind_vars"><a href="#val-bind_vars" class="anchor"></a><code><span class="keyword">val</span> bind_vars : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>bind_vars ~ty b vars t</code> binds each <code>v in vars</code> with the binder <code>b</code>, with body <code>t</code>, and each intermediate result has type <code>ty</code> (not suitable for functions)</p></dd></dl><dl><dt class="spec value" id="val-close_vars"><a href="#val-close_vars" class="anchor"></a><code><span class="keyword">val</span> close_vars : <span>ty:<a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Close all free variables of the term using the binding symbol</p></dd></dl><dl><dt class="spec value" id="val-fun_"><a href="#val-fun_" class="anchor"></a><code><span class="keyword">val</span> fun_ : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fun_l"><a href="#val-fun_l" class="anchor"></a><code><span class="keyword">val</span> fun_l : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fun_of_fvars"><a href="#val-fun_of_fvars" class="anchor"></a><code><span class="keyword">val</span> fun_of_fvars : <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Build a function from a list of free vars + the body. This performs the De Bruijn transformation, and shifts the body.</p></dd></dl><dl><dt class="spec value" id="val-open_fun"><a href="#val-open_fun" class="anchor"></a><code><span class="keyword">val</span> open_fun : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_fun ty</code> &quot;unrolls&quot; function arrows from the left, so that <code>open_fun (a -&gt; (b -&gt; (c -&gt; d)))</code> returns <code>[a;b;c], d</code>.</p><dl><dt>returns</dt><dd><p>the return type and the list of all its arguments</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_poly_fun"><a href="#val-open_poly_fun" class="anchor"></a><code><span class="keyword">val</span> open_poly_fun : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int * <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_poly_fun ty</code> &quot;unrolls&quot; polymorphic function arrows from the left, so that <code>open_poly_fun (forall a b. f a -&gt; (g b -&gt; (c -&gt; d)))</code> returns <code>2; [f a;g b;c], d</code>.</p><dl><dt>returns</dt><dd><p>the return type, the number of type variables, and the list of all its arguments</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-expected_ty_vars"><a href="#val-expected_ty_vars" class="anchor"></a><code><span class="keyword">val</span> expected_ty_vars : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><dl><dt>returns</dt><dd><p>the number of type variables that a type requires.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_bind"><a href="#val-open_bind" class="anchor"></a><code><span class="keyword">val</span> open_bind : <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-open_bind_fresh"><a href="#val-open_bind_fresh" class="anchor"></a><code><span class="keyword">val</span> open_bind_fresh : <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> list</span> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_bind_fresh λ (λxy. F)</code> returns <code>[v1,v2], F[v1/x,v2/y]</code> where <code>v1</code> and <code>v2</code> are fresh variables using <span class="xref-unresolved" title="unresolved reference to &quot;HVar.fresh&quot;"><code>HVar</code>.fresh</span></p></dd></dl><dl><dt class="spec value" id="val-open_bind_fresh2"><a href="#val-open_bind_fresh2" class="anchor"></a><code><span class="keyword">val</span> open_bind_fresh2 : <span>?&#8288;eq_ty:<span>(<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> list</span> * <a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_bind_free2 λ (λxy. F) (λxyz. G)</code> returns <code>[v1,v2], F[v1/x,v2/y], λz.G[v1/x,v2/y]</code> where <code>v1</code> and <code>v2</code> are fresh variables using <span class="xref-unresolved" title="unresolved reference to &quot;HVar.fresh&quot;"><code>HVar</code>.fresh</span></p><dl><dt>parameter eq_ty</dt><dd><p>checks whether type of bound variables are compatible</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_fun"><a href="#val-open_fun" class="anchor"></a><code><span class="keyword">val</span> open_fun : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_fun ty</code> &quot;unrolls&quot; function arrows from the left, so that <code>open_fun (a -&gt; (b -&gt; (c -&gt; d)))</code> returns <code>[a;b;c], d</code>.</p><dl><dt>returns</dt><dd><p>the return type and the list of all its arguments</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_poly_fun"><a href="#val-open_poly_fun" class="anchor"></a><code><span class="keyword">val</span> open_poly_fun : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int * <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_poly_fun ty</code> &quot;unrolls&quot; polymorphic function arrows from the left, so that <code>open_poly_fun (forall a b. f a -&gt; (g b -&gt; (c -&gt; d)))</code> returns <code>2; [f a;g b;c], d</code>.</p><dl><dt>returns</dt><dd><p>the return type, the number of type variables, and the list of all its arguments</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_bind"><a href="#val-open_bind" class="anchor"></a><code><span class="keyword">val</span> open_bind : <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-open_bind2"><a href="#val-open_bind2" class="anchor"></a><code><span class="keyword">val</span> open_bind2 : <a href="../Logtk/Binder/index.html#type-t">Logtk.Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a> * <span><a href="index.html#type-t">t</a> list</span> * <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-mk_fun"><a href="#val-mk_fun" class="anchor"></a><code><span class="keyword">val</span> mk_fun : <span>ty_l:<span><a href="index.html#type-t">t</a> list</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>mk_fun ~ty_l body</code> closes over body for DB indices of type <code>ty_l</code></p></dd></dl><dl><dt class="spec value" id="val-is_ground"><a href="#val-is_ground" class="anchor"></a><code><span class="keyword">val</span> is_ground : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>true</code> if the term contains no free variables</p></dd></dl></section><section><header><h4 id="misc"><a href="#misc" class="anchor"></a>Misc</h4></header><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-depth"><a href="#val-depth" class="anchor"></a><code><span class="keyword">val</span> depth : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-head"><a href="#val-head" class="anchor"></a><code><span class="keyword">val</span> head : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> option</span></code></dt><dd><p>Head symbol, or None if the term is a (bound) variable</p></dd></dl><dl><dt class="spec value" id="val-type_is_unifiable"><a href="#val-type_is_unifiable" class="anchor"></a><code><span class="keyword">val</span> type_is_unifiable : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Can we (syntactically) unify terms of this type?</p></dd></dl><dl><dt class="spec value" id="val-type_non_unifiable_tags"><a href="#val-type_non_unifiable_tags" class="anchor"></a><code><span class="keyword">val</span> type_non_unifiable_tags : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Logtk/Builtin/Tag/index.html#type-t">Logtk.Builtin.Tag.t</a> list</span></code></dt><dd><p>Theory tags that justify this type not being unifiable</p></dd></dl><dl><dt class="spec value" id="val-type_is_prop"><a href="#val-type_is_prop" class="anchor"></a><code><span class="keyword">val</span> type_is_prop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is is equal to <code>prop</code></p></dd></dl><dl><dt class="spec value" id="val-is_a_type"><a href="#val-is_a_type" class="anchor"></a><code><span class="keyword">val</span> is_a_type : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Is this a type? (i.e. its type is <a href="index.html#val-tType"><code>tType</code></a>)</p></dd></dl><dl><dt class="spec value" id="val-as_app"><a href="#val-as_app" class="anchor"></a><code><span class="keyword">val</span> as_app : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> * <span><a href="index.html#type-t">t</a> list</span></code></dt><dd><p><code>as_app t</code> decomposes <code>t</code> into a head (non-application) and arguments, such as <code>(let f,l = as_app t in app f l) = t</code></p></dd></dl><dl><dt class="spec value" id="val-as_var"><a href="#val-as_var" class="anchor"></a><code><span class="keyword">val</span> as_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> option</span></code></dt><dt class="spec value" id="val-as_var_exn"><a href="#val-as_var_exn" class="anchor"></a><code><span class="keyword">val</span> as_var_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span></code></dt><dt class="spec value" id="val-as_const"><a href="#val-as_const" class="anchor"></a><code><span class="keyword">val</span> as_const : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a> option</span></code></dt><dt class="spec value" id="val-as_const_exn"><a href="#val-as_const_exn" class="anchor"></a><code><span class="keyword">val</span> as_const_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Logtk/ID/index.html#type-t">Logtk.ID.t</a></code></dt><dt class="spec value" id="val-as_bvar_exn"><a href="#val-as_bvar_exn" class="anchor"></a><code><span class="keyword">val</span> as_bvar_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-is_bvar_i"><a href="#val-is_bvar_i" class="anchor"></a><code><span class="keyword">val</span> is_bvar_i : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_bvar_i n t</code> is <code>true</code> iff <code>t = bvar i</code></p></dd></dl></section><section><header><h3 id="io"><a href="#io" class="anchor"></a>IO</h3></header><dl><dt class="spec value" id="val-print_hashconsing_ids"><a href="#val-print_hashconsing_ids" class="anchor"></a><code><span class="keyword">val</span> print_hashconsing_ids : <span>bool Stdlib.ref</span></code></dt><dd><p>if enabled, every term will be printed with its unique ID</p></dd></dl><dl><dt class="spec value" id="val-print_all_types"><a href="#val-print_all_types" class="anchor"></a><code><span class="keyword">val</span> print_all_types : <span>bool Stdlib.ref</span></code></dt><dd><p>if enabled, print all types</p></dd></dl><dl><dt class="spec value" id="val-show_type_arguments"><a href="#val-show_type_arguments" class="anchor"></a><code><span class="keyword">val</span> show_type_arguments : <span>bool Stdlib.ref</span></code></dt><dd><p>Parameter for printing/hiding type arguments in terms</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Logtk/Interfaces/index.html#module-type-PRINT">Logtk.Interfaces.PRINT</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Logtk/Interfaces/module-type-PRINT/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Logtk/Interfaces/index.html#module-type-PRINT_DE_BRUIJN">Logtk.Interfaces.PRINT_DE_BRUIJN</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Logtk/Interfaces/module-type-PRINT_DE_BRUIJN/index.html#type-t">t</a> := <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../Logtk/Interfaces/module-type-PRINT_DE_BRUIJN/index.html#type-term">term</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dt class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><code><span class="keyword">type</span> term</code></dt><dt class="spec type" id="type-print_hook"><a href="#type-print_hook" class="anchor"></a><code><span class="keyword">type</span> print_hook</code><code> = int <span>&#45;&gt;</span> <span><a href="index.html#type-term">term</a> CCFormat.printer</span> <span>&#45;&gt;</span> Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-term">term</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>User-provided hook that can be used to print terms (for composite cases) before the default printing occurs. The int argument is the De Bruijn depth in the term. A hook takes as arguments the depth and the recursive printing function that it can use to print subterms. A hook should return <code>true</code> if it fired, <code>false</code> to fall back on the default printing.</p></dd></dl><dl><dt class="spec value" id="val-pp_depth"><a href="#val-pp_depth" class="anchor"></a><code><span class="keyword">val</span> pp_depth : <span>?&#8288;hooks:<span><a href="index.html#type-print_hook">print_hook</a> list</span></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-pp_var"><a href="#val-pp_var" class="anchor"></a><code><span class="keyword">val</span> pp_var : <span><span><a href="index.html#type-t">t</a> <a href="../Logtk/HVar/index.html#type-t">Logtk.HVar.t</a></span> CCFormat.printer</span></code></dt><dt class="spec value" id="val-add_default_hook"><a href="#val-add_default_hook" class="anchor"></a><code><span class="keyword">val</span> add_default_hook : <a href="index.html#type-print_hook">print_hook</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Add a print hook that will be used from now on</p></dd></dl><dl><dt class="spec value" id="val-default_hooks"><a href="#val-default_hooks" class="anchor"></a><code><span class="keyword">val</span> default_hooks : unit <span>&#45;&gt;</span> <span><a href="index.html#type-print_hook">print_hook</a> list</span></code></dt><dt class="spec value" id="val-debugf"><a href="#val-debugf" class="anchor"></a><code><span class="keyword">val</span> debugf : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-pp_zf"><a href="#val-pp_zf" class="anchor"></a><code><span class="keyword">val</span> pp_zf : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-pp_in"><a href="#val-pp_in" class="anchor"></a><code><span class="keyword">val</span> pp_in : <a href="../Logtk/Output_format/index.html#type-t">Logtk.Output_format.t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt></dl></section></div></body></html>